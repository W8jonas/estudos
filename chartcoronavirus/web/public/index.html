<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- including ECharts file -->
    <script src="echarts.js"></script>
    
    <script src="dist/echarts.min.js"></script>
    <script src="dist/echarts-gl.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    
    <script type="text/javascript" src="data.js"></script>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="main" style="width: 600px;height:400px;">
    </div>
    
    <script>
      var data = JSON.parse(data);
      
      var chart = echarts.init(document.getElementById('main'));

      data = data.filter(function (dataItem) {
          return dataItem[2] > 0;
      }).map(function (dataItem) {
          return [dataItem[0], dataItem[1], Math.sqrt(dataItem[2])];
      });

    const ROOT_PATH = "C:/Users/w8jonas/Documents/ALL/Estudos/chartcoronavirus/web/src"

    option = {
        backgroundColor: '#000',
        globe: {
            baseTexture: ROOT_PATH + "/data-gl/asset/world.topo.bathy.200401.jpg",
            heightTexture: ROOT_PATH + "/data-gl/asset/world.topo.bathy.200401.jpg",
            shading: 'lambert',
            environment: ROOT_PATH + '/data-gl/asset/starfield.jpg',
            light: {
                main: {
                    intensity: 2
                }
            },
            viewControl: {
                autoRotate: false
            }
        },
        visualMap: {
            max: 40,
            calculable: true,
            realtime: false,
            inRange: {
                colorLightness: [0.2, 0.9]
            },
            textStyle: {
                color: '#fff'
            },
            controller: {
                inRange: {
                    color: 'orange'
                }
            },
            outOfRange: {
                colorAlpha: 0
            }
        },
        series: [{
            type: 'bar3D',
            coordinateSystem: 'globe',
            data: data,
            barSize: 0.6,
            minHeight: 0.2,
            silent: true,
            itemStyle: {
                color: 'orange'
            }
        }]
    };

    chart.setOption(option);


    </script>

  </body>
</html>
